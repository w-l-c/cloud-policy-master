(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{M4WR:function(e,a,t){"use strict";var n=t("g09b");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t("d6i3")),d=n(t("p0pE")),s=t("wjNW"),o=t("UUvt");function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(function(e){var a=e.id,t=(0,d.default)({},e,{key:a});return e.children&&0!==e.children.length?t.children=u(e.children):delete t.children,t})}var i={namespace:"department",state:{data:{list:[],pagination:{}},statusCode:void 0,modalVisible:!1,confirmLoading:!1},effects:{fetch:r.default.mark(function e(a,t){var n,d,o,i,c,l;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,d=t.call,o=t.put,e.next=4,d(s.query,n,"/sys/dept/tree");case 4:if(i=e.sent,!i){e.next=9;break}return c=i.code,l=i.body,e.next=9,o({type:"save",payload:{data:u(l),statusCode:c}});case 9:case"end":return e.stop()}},e)}),update:r.default.mark(function e(a,t){var n,d,i,c,l,p;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,d=t.call,i=t.put,e.next=4,i({type:"changgeConfirmLoading",payload:{confirmLoading:!0}});case 4:return e.next=6,d(s.update,n,"/sys/dept/update");case 6:return c=e.sent,e.next=9,i({type:"changgeConfirmLoading",payload:{confirmLoading:!1}});case 9:if(!c){e.next=19;break}if(l=c.code,p=c.body,200!==l){e.next=16;break}return e.next=14,i({type:"modalVisible",payload:{modalVisible:!1}});case 14:return e.next=16,i({type:"save",payload:{data:u(p),statusCode:l}});case 16:(0,o.showStautsMessageHandle)("department","update",l),e.next=20;break;case 19:(0,o.showStautsMessageHandle)("error");case 20:case"end":return e.stop()}},e)}),add:r.default.mark(function e(a,t){var n,d,i,c,l,p,f;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,d=t.call,i=t.put,e.next=4,i({type:"changgeConfirmLoading",payload:{confirmLoading:!0}});case 4:return e.next=6,d(s.create,n,"/sys/dept/save");case 6:return c=e.sent,e.next=9,i({type:"changgeConfirmLoading",payload:{confirmLoading:!1}});case 9:if(!c){e.next=19;break}if(l=c.code,p=void 0===l?200:l,f=c.body,200!==p){e.next=16;break}return e.next=14,i({type:"modalVisible",payload:{modalVisible:!1}});case 14:return e.next=16,i({type:"save",payload:{data:u(f),statusCode:p}});case 16:(0,o.showStautsMessageHandle)("department","add",p),e.next=20;break;case 19:(0,o.showStautsMessageHandle)("error");case 20:case"end":return e.stop()}},e)}),remove:r.default.mark(function e(a,t){var n,d,i,c,l,p,f;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,d=t.call,i=t.put,e.next=4,d(s.remove,n,"/sys/dept/del");case 4:if(c=e.sent,!c){e.next=13;break}if(l=c.code,p=void 0===l?200:l,f=c.body,200!==p){e.next=10;break}return e.next=10,i({type:"save",payload:{data:u(f),statusCode:p}});case 10:(0,o.showStautsMessageHandle)("department","delete",p),e.next=14;break;case 13:(0,o.showStautsMessageHandle)("error");case 14:case"end":return e.stop()}},e)})},reducers:{modalVisible:function(e,a){var t=a.payload;return(0,d.default)({},e,t)},changgeConfirmLoading:function(e,a){var t=a.payload;return(0,d.default)({},e,t)},save:function(e,a){return(0,d.default)({},e,{data:{list:a.payload.data},statusCode:a.payload.statusCode})}}};a.default=i}}]);