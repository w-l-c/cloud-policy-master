(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{AGnt:function(e,a,t){"use strict";var r=t("g09b"),l=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t("2Taf")),o=r(t("vZ4D")),u=r(t("l4Ni")),i=r(t("ujKo")),d=r(t("MhPg"));t("y8nQ");var s,m,c=r(t("Vl3Y")),f=l(t("q1tI")),p=r(t("z9mI")),y=p.default.CDynamicTree,g=(s=c.default.create(),s(m=function(e){function a(){return(0,n.default)(this,a),(0,u.default)(this,(0,i.default)(a).apply(this,arguments))}return(0,d.default)(a,e),(0,o.default)(a,[{key:"render",value:function(){var e=this.props,a=e.form,t=e.currentItem.menuids,r=void 0===t?[]:t,l=e.disabled;return f.default.createElement(y,{form:a,name:"menuids",initialValue:r,dictionaryKey:"menuStructure",fetchUrl:"/sys/menu/dic",disabled:l,formitemprops:{label:null,hasFeedback:!1},rules:[{required:!0,message:"\u83dc\u5355\u6743\u9650\u4e0d\u80fd\u4e3a\u7a7a"}]})}}]),a}(f.PureComponent))||m),b=g;a.default=b},RZZS:function(e,a,t){e.exports={tableList:"antd-pro-pages-sys-auth-role-manage-route-index-tableList",tableListOperator:"antd-pro-pages-sys-auth-role-manage-route-index-tableListOperator",tableListForm:"antd-pro-pages-sys-auth-role-manage-route-index-tableListForm",submitButtons:"antd-pro-pages-sys-auth-role-manage-route-index-submitButtons"}},d1mL:function(e,a,t){"use strict";var r=t("g09b"),l=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("2qtc");var n=r(t("kLXV"));t("IzEo");var o=r(t("bx4M"));t("+L6B");var u=r(t("2/Rp")),i=r(t("gWZ8")),d=r(t("p0pE"));t("P2fV");var s=r(t("NJEC"));t("+BJd");var m=r(t("mr32")),c=r(t("2Taf")),f=r(t("vZ4D")),p=r(t("l4Ni")),y=r(t("ujKo")),g=r(t("MhPg"));t("y8nQ");var b,h,v,S,I=r(t("Vl3Y")),k=l(t("q1tI")),q=t("MuoO"),C=r(t("BkRI")),F=r(t("JpOw")),T=r(t("n+/z")),E=r(t("AGnt")),M=t("+n12"),V=r(t("zHco")),w=r(t("gSky")),O=r(t("p0es")),P=r(t("RZZS")),x=(b=(0,q.connect)(function(e){var a=e.user,t=e.loading,r=e.rolemanage,l=e.dictionary;return{currentUser:a.currentUser,loading:t.models.rolemanage,rolemanage:r,dictionary:l}}),h=I.default.create(),b(v=h((S=function(e){function a(e){var t;return(0,c.default)(this,a),t=(0,p.default)(this,(0,y.default)(a).call(this,e)),t.updateFormItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,C.default)(t.pageConfig.detailFormItems),r=(0,M.formItemAddInitValue)(a,e);t.setState({detailFormItems:r})},t.showModalVisibel=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r?(t.queryStructorTreeHandle(),t.changeModalVisibel(!0),t.setState({currentItem:a,isShowMenuTree:r})):(t.updateFormItems(a),t.changeModalVisibel(!0),t.setState({showModalType:e,currentItem:a,isShowMenuTree:r}))},t.hideModalVisibel=function(){t.changeModalVisibel(!1),t.setState({currentItem:{}})},t.changeModalVisibel=function(e){t.props.dispatch({type:"rolemanage/modalVisible",payload:{modalVisible:e}})},t.extraTableColumnRender=function(){var e=[{title:"\u83dc\u5355\u6743\u9650",render:function(e,a){return k.default.createElement(m.default,{color:"#1890ff",onClick:function(){return t.showModalVisibel("create",a,!0)}},"\u4fee\u6539\u6743\u9650")}},{title:"\u64cd\u4f5c",render:function(e,a){return k.default.createElement("div",null,k.default.createElement("a",{color:"#1890ff",onClick:function(){t.showModalVisibel("update",a)}},"\u7f16\u8f91"),"\xa0",k.default.createElement(s.default,{title:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",onConfirm:function(){t.deleteTableRowHandle(a.id)}},k.default.createElement("a",{color:"#f5222d"},"\u5220\u9664")))}}];return e},t.queryStructorTreeHandle=function(){var e=t.props.dispatch;e({type:"dictionary/query",payload:{fetchUrl:"/sys/menu/dic",dictionaryKey:"menuStructure"}})},t.modalOkHandle=function(){var e=t.state.isShowMenuTree;e?t.menuForm.validateFieldsAndScroll(function(e,a){if(!e){var r=t.state.currentItem,l=r.id,n=r.remark,o=r.rolename,u=r.status,i=a.menuids,d=void 0===i?[]:i,s={menuids:d.map(function(e){return e-0}),id:l,remark:n,rolename:o,status:u};t.props.dispatch({type:"rolemanage/update",payload:t.queryParamsFormater(s,2)})}}):t.modalForm.validateFieldsAndScroll(function(e,a){if(!e){var r=t.state.showModalType,l=(0,M.formaterObjectValue)(a);"create"===r?t.props.dispatch({type:"rolemanage/add",payload:t.queryParamsFormater(l,3)}):"update"===r&&t.props.dispatch({type:"rolemanage/update",payload:t.queryParamsFormater(l,2)})}})},t.deleteTableRowHandle=function(e){t.props.dispatch({type:"rolemanage/remove",payload:t.queryParamsFormater({id:e},2)})},t.queryParamsFormater=function(e,a){var r=t.props.rolemanage.data.pagination;delete r.total;var l={form:{},query:{},pagination:{current:1,pageSize:10}};switch(a){case 1:Object.assign(l,{query:(0,d.default)({},e)});break;case 2:Object.assign(l,{query:(0,d.default)({},t.state.queryValues),form:(0,d.default)({},e),pagination:r});break;case 3:Object.assign(l,{form:(0,d.default)({},e)});break;case 4:Object.assign(l,{query:(0,d.default)({},t.state.queryValues),pagination:{current:e.page,pageSize:e.pageSize}});break;default:Object.assign(l,{})}return l},t.renderSearchForm=function(){var e=t.props,a=e.form,r=e.dispatch,l=t.pageConfig.searchForms,n={form:a,formInfo:{layout:"inline",formItems:l},handleSearchSubmit:function(e){var a=Object.assign({},e,{}),l=(0,M.formaterObjectValue)(a);t.setState({queryValues:l}),r({type:"rolemanage/fetch",payload:t.queryParamsFormater(l,1)})},handleFormReset:function(){t.setState({queryValues:{}}),r({type:"rolemanage/fetch",payload:t.queryParamsFormater()})}};return k.default.createElement(F.default,n)},t.renderTable=function(){var e=t.props,a=e.rolemanage,r=e.loading,l=t.pageConfig.tableColumns,n=[].concat((0,i.default)(l),(0,i.default)(t.extraTableColumnRender())),o=a.data,u=o.list,d=o.pagination,s={loading:r,bordered:!1,dataSource:u,columns:n,pagination:Object.assign(d,{pageSize:10}),handleTableChange:function(e){var a=e.current,r=t.props.dispatch,l={page:a,pageSize:10};r({type:"rolemanage/fetch",payload:t.queryParamsFormater(l,4)})}};return k.default.createElement(T.default,s)},t.pageConfig=(0,w.default)(e.form),t.state={showModalType:"",queryValues:{},currentItem:{},isShowMenuTree:!1,detailFormItems:t.pageConfig.detailFormItems},t}return(0,g.default)(a,e),(0,f.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"rolemanage/fetch",payload:this.queryParamsFormater()})}},{key:"render",value:function(){var e=this,a=this.state,t=a.detailFormItems,r=a.isShowMenuTree,l=a.currentItem,i=this.props,d=i.rolemanage,s=d.modalVisible,m=d.confirmLoading,c=i.dictionary;return k.default.createElement(V.default,null,k.default.createElement(o.default,{bordered:!1},k.default.createElement("div",{className:P.default.tableList},k.default.createElement("div",{className:P.default.tableListForm},this.renderSearchForm(),k.default.createElement("div",{className:P.default.tableListOperator},k.default.createElement(u.default,{icon:"plus",type:"primary",onClick:function(){return e.showModalVisibel("create",{})}},"\u65b0\u5efa")),this.renderTable()))),k.default.createElement(n.default,{destroyOnClose:!0,visible:s,confirmLoading:m,onCancel:function(){return e.hideModalVisibel()},onOk:function(){e.modalOkHandle()}},r?k.default.createElement(E.default,{ref:function(a){e.menuForm=a},disabled:!1,currentItem:l}):k.default.createElement(O.default,{ref:function(a){e.modalForm=a},formItems:t,dictionary:c})))}}]),a}(k.PureComponent),v=S))||v)||v),R=x;a.default=R},gSky:function(e,a,t){"use strict";var r=t("g09b");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=r(t("p0pE"));t("+BJd");var n=r(t("mr32")),o=r(t("q1tI")),u={labelCol:{span:6},wrapperCol:{span:18}},i=function(){return{name:"\u89d2\u8272\u7ba1\u7406",path:"permission/rolemanage",tableColumns:[{title:"\u89d2\u8272ID",dataIndex:"id"},{title:"\u89d2\u8272ID",dataIndex:"menuids",colSpan:0,render:function(e){return{children:o.default.createElement("a",{href:"#"},e),props:{colSpan:0}}}},{title:"\u89d2\u8272\u540d\u79f0",dataIndex:"rolename"},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"updatetime"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return 1===e?o.default.createElement(n.default,{color:"#52c41a"},"\u901a\u8fc7"):o.default.createElement(n.default,{color:"#f5222d"},"\u62d2\u7edd")}},{title:"\u5907\u6ce8",dataIndex:"remark"}],searchForms:[{formType:"CInput",isRequired:!1,key:"rolename",label:"\u89d2\u8272\u540d\u79f0",props:{disabled:!1},formitemprops:(0,l.default)({},u)},{formType:"CSelect",isRequired:!1,key:"status",label:"\u72b6\u6001",props:{disabled:!1},formitemprops:(0,l.default)({},u),selectOptions:[{key:"1",value:"\u901a\u8fc7"},{key:"2",value:"\u62d2\u7edd"}]}],detailFormItems:[{formType:"CInput",isRequired:!1,key:"id",label:"id",colSpan:0,props:{disabled:!1},formitemprops:(0,l.default)({},u)},{formType:"CInput",isRequired:!0,key:"rolename",label:"\u89d2\u8272\u540d\u79f0",colSpan:24,props:{disabled:!1},formitemprops:(0,l.default)({},u)},{formType:"CSelectDynamicTree",isRequired:!0,key:"menuids",label:"\u83dc\u5355\u6743\u9650",colSpan:24,dictionaryKey:"menuStructure",fetchUrl:"/sys/menu/dic",props:{disabled:!1,multiple:!0,showCheckedStrategy:!1,treeCheckable:!0,maxTagCount:0,maxTagPlaceholder:"\u5df2\u9009\u83dc\u5355",treeDefaultExpandAll:!0},formitemprops:(0,l.default)({},u)},{formType:"CSelect",isRequired:!0,initialValue:1,key:"status",label:"\u72b6\u6001",colSpan:24,props:{disabled:!1},formitemprops:(0,l.default)({},u),selectOptions:[{key:1,value:"\u901a\u8fc7"},{key:2,value:"\u62d2\u7edd"}]},{formType:"CTextArea",isRequired:!1,key:"remark",label:"\u5907\u6ce8",colSpan:24,props:{disabled:!1,autosize:{minRows:5,maxRows:10}},formitemprops:(0,l.default)({},u)}]}};a.default=i},p0es:function(e,a,t){"use strict";var r=t("g09b"),l=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("IzEo");var n=r(t("bx4M"));t("14J3");var o=r(t("BMrR"));t("jCWc");var u=r(t("kPKH")),i=r(t("2Taf")),d=r(t("vZ4D")),s=r(t("l4Ni")),m=r(t("ujKo")),c=r(t("MhPg"));t("y8nQ");var f,p,y,g=r(t("Vl3Y")),b=l(t("q1tI")),h=r(t("9N//")),v=(f=g.default.create(),f((y=function(e){function a(){var e,t;(0,i.default)(this,a);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return t=(0,s.default)(this,(e=(0,m.default)(a)).call.apply(e,[this].concat(l))),t.renderFormItem=function(){var e=t.props,a=e.formItems,r=e.form,l=a.map(function(e){var a=(0,h.default)(e,r);return b.default.createElement(u.default,{lg:0===e.colSpan?0:e.colSpan||8,md:0===e.colSpan?0:12,sm:0===e.colSpan?0:24,key:e.key},a)});return l},t}return(0,c.default)(a,e),(0,d.default)(a,[{key:"render",value:function(){return b.default.createElement(n.default,{bordered:!1,loading:!1},b.default.createElement(g.default,null,b.default.createElement(o.default,{gutter:24},this.renderFormItem())))}}]),a}(b.PureComponent),p=y))||p),S=v;a.default=S}}]);