(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"4o43":function(e,a,t){"use strict";var r=t("g09b");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t("p0pE"));t("miYZ");var d=r(t("tsqr")),s=r(t("d6i3")),i=r(t("GIZZ")),o=t("78Ac"),c=t("wjNW"),u=t("UUvt"),l=(0,i.default)(o.tablePageModel,{namespace:"orderlistmanage",state:{bidderList:{winnerId:-1,list:[],pagination:{}}},effects:{fetch:s.default.mark(function e(a,t){var r,n,d,i,o,l;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,d=t.put,e.next=4,n(c.queryPost,r,"/order/list");case 4:if(i=e.sent,!i){e.next=12;break}if(o=i.code,l=i.body,200!==o){e.next=10;break}return e.next=10,d({type:"save",payload:{data:l}});case 10:e.next=13;break;case 12:(0,u.showStautsMessageHandle)("error");case 13:case"end":return e.stop()}},e)}),fetchBidderList:s.default.mark(function e(a,t){var r,n,d,i,o,l;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,d=t.put,e.next=4,n(c.queryPost,r,"/order/bidder/list");case 4:if(i=e.sent,!i){e.next=12;break}if(o=i.code,l=i.body,200!==o){e.next=10;break}return e.next=10,d({type:"saveBidderList",payload:{bidderList:l}});case 10:e.next=13;break;case 12:(0,u.showStautsMessageHandle)("error");case 13:case"end":return e.stop()}},e)}),deleteOrder:s.default.mark(function e(a,t){var r,n,i,o,l,p;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,i=t.put,e.next=4,i({type:"changgeConfirmLoading",payload:{confirmLoading:!0}});case 4:return e.next=6,n(c.update,r,"/order/close");case 6:if(o=e.sent,!o){e.next=15;break}if(l=o.code,p=o.body,200!==l){e.next=13;break}return e.next=12,i({type:"save",payload:{data:p}});case 12:d.default.success("\u5173\u95ed\u8ba2\u5355\u6210\u529f");case 13:e.next=16;break;case 15:(0,u.showStautsMessageHandle)("error");case 16:case"end":return e.stop()}},e)}),addBidder:s.default.mark(function e(a,t){var r,n,i,o,l,p;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,i=t.put,e.next=4,i({type:"changgeConfirmLoading",payload:{confirmLoading:!0}});case 4:return e.next=6,n(c.create,r,"/order/bidder/add");case 6:return o=e.sent,e.next=9,i({type:"changgeConfirmLoading",payload:{confirmLoading:!1}});case 9:if(!o){e.next=19;break}if(l=o.code,p=o.body,200!==l){e.next=16;break}return e.next=14,i({type:"modalVisible",payload:{modalVisible:!1}});case 14:return e.next=16,i({type:"saveBidderList",payload:{bidderList:p}});case 16:d.default.success("\u6dfb\u52a0\u7ade\u4ef7\u65b9\u6210\u529f"),e.next=20;break;case 19:(0,u.showStautsMessageHandle)("error");case 20:case"end":return e.stop()}},e)}),updateBidderPrice:s.default.mark(function e(a,t){var r,n,i,o,l,p;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,i=t.put,e.next=4,i({type:"changgeConfirmLoading",payload:{confirmLoading:!0}});case 4:return e.next=6,n(c.create,r,"/order/bidder/updatePrice");case 6:return o=e.sent,e.next=9,i({type:"changgeConfirmLoading",payload:{confirmLoading:!1}});case 9:if(!o){e.next=19;break}if(l=o.code,p=o.body,200!==l){e.next=16;break}return e.next=14,i({type:"modalVisible",payload:{modalVisible:!1}});case 14:return e.next=16,i({type:"saveBidderList",payload:{bidderList:p}});case 16:d.default.success("\u4fee\u6539\u7ade\u4ef7\u6210\u529f"),e.next=20;break;case 19:(0,u.showStautsMessageHandle)("error");case 20:case"end":return e.stop()}},e)}),pushBidderPrice:s.default.mark(function e(a,t){var r,n,i,o,l,p;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,i=t.put,e.next=4,i({type:"changgeConfirmLoading",payload:{confirmLoading:!0}});case 4:return e.next=6,n(c.create,r,"/order/bidder/pushPrice");case 6:return o=e.sent,e.next=9,i({type:"changgeConfirmLoading",payload:{confirmLoading:!1}});case 9:if(!o){e.next=19;break}if(l=o.code,p=o.body,200!==l){e.next=16;break}return e.next=14,i({type:"modalVisible",payload:{modalVisible:!1}});case 14:return e.next=16,i({type:"saveBidderList",payload:{bidderList:p}});case 16:d.default.success("\u63a8\u9001\u6210\u529f"),e.next=20;break;case 19:(0,u.showStautsMessageHandle)("error");case 20:case"end":return e.stop()}},e)}),eusureBidderPrice:s.default.mark(function e(a,t){var r,n,i,o,l,p;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,i=t.put,e.next=4,i({type:"changgeConfirmLoading",payload:{confirmLoading:!0}});case 4:return e.next=6,n(c.create,r,"/order/bidder/ensureBidder");case 6:return o=e.sent,e.next=9,i({type:"changgeConfirmLoading",payload:{confirmLoading:!1}});case 9:if(!o){e.next=19;break}if(l=o.code,p=o.body,200!==l){e.next=16;break}return e.next=14,i({type:"modalVisible",payload:{modalVisible:!1}});case 14:return e.next=16,i({type:"saveBidderList",payload:{bidderList:p}});case 16:d.default.success("\u63a8\u9001\u6210\u529f"),e.next=20;break;case 19:(0,u.showStautsMessageHandle)("error");case 20:case"end":return e.stop()}},e)})},reducers:{save:function(e,a){return(0,n.default)({},e,{data:(0,n.default)({},a.payload.data,{list:a.payload.data.list.map(function(e){return(0,n.default)({},e,{region:[e.province,e.city,e.district]})})})})},saveBidderList:function(e,a){return(0,n.default)({},e,{bidderList:(0,n.default)({},a.payload.bidderList,{list:a.payload.bidderList.list.map(function(e){return(0,n.default)({},e,{region:"".concat(e.provinceName," ").concat(e.cityName," ").concat(e.districtName)})})})})}}});a.default=l}}]);