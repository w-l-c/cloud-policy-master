(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"128J":function(e,t,a){"use strict";var r=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("2Taf")),o=r(a("vZ4D")),u=r(a("l4Ni")),i=r(a("ujKo")),d=r(a("MhPg"));a("y8nQ");var s,m,p=r(a("Vl3Y")),f=n(a("q1tI")),c=r(a("z9mI")),y=c.default.CDynamicTree,b=(s=p.default.create(),s(m=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,(0,i.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.currentItem.menuids,r=void 0===a?[]:a,n=e.disabled;return f.default.createElement(y,{form:t,name:"menuids",initialValue:r,dictionaryKey:"menuStructure",fetchUrl:"/sys/menu/dic",disabled:n,formitemprops:{label:null,hasFeedback:!1},rules:[{required:!0,message:"\u83dc\u5355\u6743\u9650\u4e0d\u80fd\u4e3a\u7a7a"}]})}}]),t}(f.PureComponent))||m),h=b;t.default=h},"2dKg":function(e,t,a){"use strict";var r=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var l=r(a("kLXV"));a("IzEo");var o=r(a("bx4M"));a("+L6B");var u=r(a("2/Rp")),i=r(a("gWZ8")),d=r(a("p0pE"));a("P2fV");var s=r(a("NJEC")),m=r(a("2Taf")),p=r(a("vZ4D")),f=r(a("l4Ni")),c=r(a("ujKo")),y=r(a("MhPg"));a("y8nQ");var b,h,g,v,I=r(a("Vl3Y")),S=n(a("q1tI")),q=a("MuoO"),k=r(a("BkRI")),C=r(a("n+/z")),T=r(a("JpOw")),w=r(a("128J")),V=a("+n12"),F=r(a("zHco")),M=r(a("4QoK")),E=r(a("mhZ7")),x=r(a("HjqV")),P=(b=(0,q.connect)(function(e){var t=e.user,a=e.loading,r=e.usermanage,n=e.dictionary;return{currentUser:t.currentUser,loading:a.models.usermanage,usermanage:r,dictionary:n}}),h=I.default.create(),b(g=h((v=function(e){function t(e){var a;return(0,m.default)(this,t),a=(0,f.default)(this,(0,c.default)(t).call(this,e)),a.updateFormItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,k.default)(a.pageConfig.detailFormItems),r=(0,V.formItemAddInitValue)(t,e);a.setState({detailFormItems:r})},a.changeModalVisibel=function(e){a.props.dispatch({type:"usermanage/modalVisible",payload:{modalVisible:e}})},a.showModalVisibel=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r?(a.queryStructorTreeHandle(),a.changeModalVisibel(!0),a.setState({currentItem:t,isShowMenuTree:r})):(a.updateFormItems(t),a.changeModalVisibel(!0),a.setState({showModalType:e,currentItem:t,isShowMenuTree:r}))},a.hideModalVisibel=function(){a.changeModalVisibel(!1),a.setState({currentItem:{}})},a.extraTableColumnRender=function(){var e=[{title:"\u83dc\u5355\u6743\u9650",render:function(e,t){return S.default.createElement("div",null,S.default.createElement("a",{onClick:function(){return a.showModalVisibel("create",t,!0)}},"\u67e5\u770b"))},fixed:"right",width:90},{title:"\u64cd\u4f5c",fixed:"right",width:100,render:function(e,t){return S.default.createElement("div",null,S.default.createElement("a",{onClick:function(){a.showModalVisibel("update",t)}},"\u7f16\u8f91"),"\xa0",S.default.createElement(s.default,{title:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",onConfirm:function(){a.deleteTableRowHandle(t.id)}},S.default.createElement("a",null,"\u5220\u9664")))}}];return e},a.queryStructorTreeHandle=function(){var e=a.props.dispatch;e({type:"dictionary/query",payload:{fetchUrl:"/sys/menu/dic",dictionaryKey:"menuStructure"}})},a.modalOkHandle=function(){var e=a.state.isShowMenuTree;e?a.hideModalVisibel():a.modalForm.validateFieldsAndScroll(function(e,t){if(!e){var r=a.state.showModalType,n=(0,V.formaterObjectValue)(t);"create"===r?a.props.dispatch({type:"usermanage/add",payload:a.queryParamsFormater(n,3)}):"update"===r&&a.props.dispatch({type:"usermanage/update",payload:a.queryParamsFormater(n,2)})}})},a.deleteTableRowHandle=function(e){a.props.dispatch({type:"usermanage/remove",payload:a.queryParamsFormater({id:e},2)})},a.queryParamsFormater=function(e,t){var r=a.props.usermanage.data.pagination;delete r.total;var n={form:{},query:{},pagination:{current:1,pageSize:10}};switch(t){case 1:Object.assign(n,{query:(0,d.default)({},e)});break;case 2:Object.assign(n,{query:(0,d.default)({},a.state.queryValues),form:(0,d.default)({},e),pagination:r});break;case 3:Object.assign(n,{form:(0,d.default)({},e)});break;case 4:Object.assign(n,{query:(0,d.default)({},a.state.queryValues),pagination:{current:e.page,pageSize:e.pageSize}});break;default:Object.assign(n,{})}return n},a.renderSearchForm=function(){var e=a.props,t=e.form,r=e.dispatch,n=a.pageConfig.searchForms,l={form:t,formInfo:{layout:"inline",formItems:n},handleSearchSubmit:function(e){var t=Object.assign({},e,{}),n=(0,V.formaterObjectValue)(t);a.setState({queryValues:n}),r({type:"usermanage/fetch",payload:a.queryParamsFormater(n,1)})},handleFormReset:function(){a.setState({queryValues:{}}),r({type:"usermanage/fetch",payload:a.queryParamsFormater()})}};return S.default.createElement(T.default,l)},a.renderTable=function(){var e=a.props,t=e.usermanage,r=e.loading,n=a.pageConfig.tableColumns,l=[].concat((0,i.default)(n),(0,i.default)(a.extraTableColumnRender())),o=t.data,u=o.list,s=o.pagination,m={loading:r,bordered:!1,dataSource:u,pagination:Object.assign(s,{pageSize:10}),columns:l,handleTableChange:function(e){var t=e.current,r=a.props.dispatch,n=a.state.formValues,l=(0,d.default)({page:t,pageSize:10},n);r({type:"usermanage/fetch",payload:a.queryParamsFormater(l,4)})},otherProps:{scroll:{x:1400}}};return S.default.createElement(C.default,m)},a.pageConfig=(0,E.default)(e.form),a.state={showModalType:"",formValues:{},queryValues:{},currentItem:{},isShowMenuTree:!1,detailFormItems:a.pageConfig.detailFormItems},a}return(0,y.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"usermanage/fetch",payload:this.queryParamsFormater()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.detailFormItems,r=t.isShowMenuTree,n=t.currentItem,i=this.props,d=i.usermanage,s=d.modalVisible,m=d.confirmLoading,p=i.dictionary;return S.default.createElement(F.default,null,S.default.createElement(o.default,{bordered:!1},S.default.createElement("div",{className:x.default.tableList},S.default.createElement("div",{className:x.default.tableListForm},this.renderSearchForm(),S.default.createElement("div",{className:x.default.tableListOperator},S.default.createElement(u.default,{icon:"plus",type:"primary",onClick:function(){return e.showModalVisibel("create",{})}},"\u65b0\u5efa")),this.renderTable()))),S.default.createElement(l.default,{destroyOnClose:!0,confirmLoading:m,visible:s,onCancel:function(){return e.hideModalVisibel()},onOk:function(){e.modalOkHandle()}},r?S.default.createElement(w.default,{ref:function(t){e.menuForm=t},disabled:!0,currentItem:n}):S.default.createElement(M.default,{ref:function(t){e.modalForm=t},formItems:a,dictionary:p})))}}]),t}(S.PureComponent),g=v))||g)||g),O=P;t.default=O},"4QoK":function(e,t,a){"use strict";var r=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var l=r(a("bx4M"));a("14J3");var o=r(a("BMrR"));a("jCWc");var u=r(a("kPKH")),i=r(a("2Taf")),d=r(a("vZ4D")),s=r(a("l4Ni")),m=r(a("ujKo")),p=r(a("MhPg"));a("y8nQ");var f,c,y,b=r(a("Vl3Y")),h=n(a("q1tI")),g=r(a("9N//")),v=(f=b.default.create(),f((y=function(e){function t(){var e,a;(0,i.default)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return a=(0,s.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(n))),a.renderFormItem=function(){var e=a.props,t=e.formItems,r=e.form;return t.map(function(e){var t=(0,g.default)(e,r);return h.default.createElement(u.default,{lg:0===e.colSpan?0:e.colSpan||8,md:12,sm:24,key:e.key},t)})},a}return(0,p.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return h.default.createElement(l.default,{bordered:!1,loading:!1},h.default.createElement(b.default,null,h.default.createElement(o.default,{gutter:24},this.renderFormItem())))}}]),t}(h.PureComponent),c=y))||c),I=v;t.default=I},HjqV:function(e,t,a){e.exports={tableList:"antd-pro-pages-sys-auth-user-manage-route-index-tableList",tableListOperator:"antd-pro-pages-sys-auth-user-manage-route-index-tableListOperator",tableListForm:"antd-pro-pages-sys-auth-user-manage-route-index-tableListForm",submitButtons:"antd-pro-pages-sys-auth-user-manage-route-index-submitButtons"}},mhZ7:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("p0pE"));a("+BJd");var l=r(a("mr32")),o=r(a("q1tI")),u={labelCol:{span:6},wrapperCol:{span:18}},i=function(){return{name:"\u7528\u6237\u7ba1\u7406",path:"usermanage",tableColumns:[{title:"ID",dataIndex:"id",fixed:"left",width:50},{title:"\u7528\u6237\u540d",dataIndex:"username",fixed:"left",width:180},{title:"\u89d2\u8272",dataIndex:"role",render:function(e,t){return t.sysRoleList.map(function(e){return o.default.createElement(l.default,{color:"cyan",key:e.id},e.rolename)})}},{title:"\u6635\u79f0",dataIndex:"nickname"},{title:"\u6240\u5c5e\u90e8\u95e8",dataIndex:"sysDept.name"},{title:"\u90ae\u7bb1",dataIndex:"email"},{title:"\u624b\u673a\u53f7",dataIndex:"mobile"},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"updatetime"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return 1===e?o.default.createElement(l.default,{color:"#52c41a"},"\u901a\u8fc7"):o.default.createElement(l.default,{color:"#f5222d"},"\u62d2\u7edd")},fixed:"right",width:60}],searchForms:[{formType:"CInput",isRequired:!1,key:"username",label:"\u7528\u6237\u540d",props:{disabled:!1},formitemprops:(0,n.default)({},u)},{formType:"CInputPhone",isRequired:!1,key:"mobile",label:"\u624b\u673a\u53f7",props:{disabled:!1},formitemprops:(0,n.default)({},u)},{formType:"CSelect",isRequired:!1,key:"status",label:"\u72b6\u6001",props:{disabled:!1},formitemprops:(0,n.default)({},u),selectOptions:[{key:1,value:"\u901a\u8fc7"},{key:2,value:"\u62d2\u7edd"}]}],detailFormItems:[{formType:"CInput",isRequired:!1,key:"id",label:"id",colSpan:0,props:{disabled:!1},formitemprops:(0,n.default)({},u)},{formType:"CInput",isRequired:!0,key:"nickname",label:"\u6635\u79f0",colSpan:24,props:{disabled:!1},formitemprops:(0,n.default)({},u)},{formType:"CInput",isRequired:!0,key:"username",label:"\u767b\u5f55\u540d",colSpan:24,props:{disabled:!1},formitemprops:(0,n.default)({},u)},{formType:"CInput",isRequired:!0,key:"password",label:"\u5bc6\u7801",colSpan:24,props:{disabled:!1},formitemprops:(0,n.default)({},u)},{formType:"CSelectDynamic",isRequired:!0,key:"roleids",label:"\u89d2\u8272",colSpan:24,props:{disabled:!1,mode:"multiple",getPopupContainer:function(){return document.querySelector(".ant-modal-wrap ")}},formitemprops:(0,n.default)({},u),dictionaryKey:"roleDictionary",fetchUrl:"/sys/role/dic"},{formType:"CSelectDynamicTree",isRequired:!0,key:"deptid",label:"\u6240\u5c5e\u90e8\u95e8",colSpan:24,dictionaryKey:"departmentStructure",fetchUrl:"/sys/dept/dic",props:{disabled:!1,getPopupContainer:function(){return document.querySelector(".ant-modal-wrap ")}},formitemprops:(0,n.default)({},u)},{formType:"CInputPhone",isRequired:!0,key:"mobile",label:"\u624b\u673a\u53f7",colSpan:24,props:{disabled:!1},formitemprops:(0,n.default)({},u)},{formType:"CInput",isRequired:!0,key:"email",label:"\u90ae\u7bb1",colSpan:24,props:{disabled:!1},formitemprops:(0,n.default)({},u),rules:[{pattern:/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/,message:" \u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e"}]},{formType:"CSelect",isRequired:!0,key:"status",label:"\u72b6\u6001",initialValue:1,colSpan:24,props:{disabled:!1,getPopupContainer:function(){return document.querySelector(".ant-modal-wrap ")}},formitemprops:(0,n.default)({},u),selectOptions:[{key:1,value:"\u901a\u8fc7"},{key:2,value:"\u62d2\u7edd"}]},{formType:"CTextArea",isRequired:!1,key:"remark",label:"\u5907\u6ce8",colSpan:24,props:{disabled:!1,autosize:{minRows:5,maxRows:10}},formitemprops:(0,n.default)({},u)}]}};t.default=i}}]);