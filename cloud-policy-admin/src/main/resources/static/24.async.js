(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"YY/h":function(e,a,t){"use strict";var n=t("g09b");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t("d6i3")),s=n(t("p0pE")),d=t("wjNW"),o=t("UUvt");function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(function(e){var a=e.id,t=(0,s.default)({},e,{key:a});return e.children&&0!==e.children.length?t.children=u(e.children):delete t.children,t})}var c={namespace:"menumanage",state:{data:{list:[],pagination:{}},statusCode:200},effects:{fetch:r.default.mark(function e(a,t){var n,s,c,i,l,p,f;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,s=t.call,c=t.put,e.next=4,s(d.query,n,"/sys/menu/tree");case 4:if(i=e.sent,!i){e.next=11;break}return l=i.code,p=void 0===l?200:l,f=i.body,e.next=9,c({type:"save",payload:{data:u(f),statusCode:p}});case 9:e.next=12;break;case 11:(0,o.showStautsMessageHandle)("error");case 12:case"end":return e.stop()}},e)}),update:r.default.mark(function e(a,t){var n,s,c,i,l,p,f;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,s=t.call,c=t.put,e.next=4,c({type:"changgeConfirmLoading",payload:{confirmLoading:!0}});case 4:return e.next=6,s(d.update,n,"/sys/menu/update");case 6:return i=e.sent,e.next=9,c({type:"changgeConfirmLoading",payload:{confirmLoading:!1}});case 9:if(!i){e.next=19;break}if(l=i.code,p=void 0===l?200:l,f=i.body,200!==p){e.next=16;break}return e.next=14,c({type:"modalVisible",payload:{modalVisible:!1}});case 14:return e.next=16,c({type:"save",payload:{data:u(f),statusCode:p}});case 16:(0,o.showStautsMessageHandle)("menumanage","update",p),e.next=20;break;case 19:(0,o.showStautsMessageHandle)("error");case 20:case"end":return e.stop()}},e)}),add:r.default.mark(function e(a,t){var n,s,c,i,l,p,f;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,s=t.call,c=t.put,e.next=4,c({type:"changgeConfirmLoading",payload:{confirmLoading:!0}});case 4:return e.next=6,s(d.create,n,"/sys/menu/save");case 6:return i=e.sent,e.next=9,c({type:"changgeConfirmLoading",payload:{confirmLoading:!1}});case 9:if(!i){e.next=19;break}if(l=i.code,p=void 0===l?200:l,f=i.body,200!==p){e.next=16;break}return e.next=14,c({type:"modalVisible",payload:{modalVisible:!1}});case 14:return e.next=16,c({type:"save",payload:{data:u(f),statusCode:p}});case 16:(0,o.showStautsMessageHandle)("menumanage","add",p),e.next=20;break;case 19:(0,o.showStautsMessageHandle)("error");case 20:case"end":return e.stop()}},e)}),remove:r.default.mark(function e(a,t){var n,s,c,i,l,p,f;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,s=t.call,c=t.put,e.next=4,s(d.remove,n,"/sys/menu/del");case 4:if(i=e.sent,!i){e.next=13;break}if(l=i.code,p=void 0===l?200:l,f=i.body,200!==p){e.next=10;break}return e.next=10,c({type:"save",payload:{data:u(f),statusCode:p}});case 10:(0,o.showStautsMessageHandle)("menumanage","delete",p),e.next=14;break;case 13:(0,o.showStautsMessageHandle)("error");case 14:case"end":return e.stop()}},e)})},reducers:{modalVisible:function(e,a){var t=a.payload;return(0,s.default)({},e,t)},changgeConfirmLoading:function(e,a){var t=a.payload;return(0,s.default)({},e,t)},save:function(e,a){return(0,s.default)({},e,{data:{list:a.payload.data},statusCode:a.payload.statusCode})}}};a.default=c}}]);