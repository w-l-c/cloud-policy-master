(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"53Jk":function(e,a,t){e.exports={tableList:"antd-pro-pages-user-info-manage-dealer-manage-route-index-tableList",tableListOperator:"antd-pro-pages-user-info-manage-dealer-manage-route-index-tableListOperator",tableListForm:"antd-pro-pages-user-info-manage-dealer-manage-route-index-tableListForm",submitButtons:"antd-pro-pages-user-info-manage-dealer-manage-route-index-submitButtons"}},Cj2Q:function(e,a,t){"use strict";var r=t("g09b"),n=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("bbsP");var l=r(t("/wGt"));t("2qtc");var o=r(t("kLXV"));t("IzEo");var d=r(t("bx4M"));t("+L6B");var i=r(t("2/Rp")),u=r(t("gWZ8"));t("P2fV");var s=r(t("NJEC")),c=r(t("p0pE")),f=r(t("2Taf")),m=r(t("vZ4D")),p=r(t("l4Ni")),y=r(t("ujKo")),b=r(t("rlhR")),g=r(t("MhPg"));t("y8nQ");var v,h,I,C,k=r(t("Vl3Y")),q=n(t("q1tI")),E=t("MuoO"),w=(r(t("mOP9")),r(t("BkRI"))),P=r(t("zHco")),T=r(t("JpOw")),F=r(t("n+/z")),S=r(t("mgTz")),x=r(t("GqzL")),V=t("+n12"),O=r(t("LPTS")),M=r(t("vJOx")),R=r(t("53Jk")),j=(v=(0,E.connect)(function(e){var a=e.user,t=e.dealermanage,r=e.loading;return{currentUser:a.currentUser,dealermanage:t,loading:r.models.dealermanage}}),h=k.default.create(),v(I=h((C=function(e){function a(){var e,t;(0,f.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return t=(0,p.default)(this,(e=(0,y.default)(a)).call.apply(e,[this].concat(n))),t.pageConfig=(0,M.default)((0,b.default)(t)),t.state={drawerVisible:!1,currentId:-1,showModalType:"",formValues:{},queryValues:{},detailFormItems:t.pageConfig.detailFormItems},t.queryParamsFormater=function(e,a){var r=t.props.dealermanage.data.pagination;delete r.total;var n={form:{},query:{},pagination:{current:1,pageSize:10}};switch(a){case 1:Object.assign(n,{query:(0,c.default)({},e)});break;case 2:Object.assign(n,{query:(0,c.default)({},t.state.queryValues),form:(0,c.default)({},e),pagination:r});break;case 3:Object.assign(n,{form:(0,c.default)({},e)});break;case 4:Object.assign(n,{query:(0,c.default)({},t.state.queryValues),pagination:{current:e.page,pageSize:e.pageSize}});break;default:Object.assign(n,{})}return n},t.updateFormItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,w.default)(t.pageConfig.detailFormItems),r=(0,V.formItemAddInitValue)(a,e);t.setState({detailFormItems:r})},t.changeModalVisibel=function(e){t.props.dispatch({type:"dealermanage/modalVisible",payload:{modalVisible:e}})},t.showModalVisibel=function(e,a){t.updateFormItems(a),t.changeModalVisibel(!0),t.setState({showModalType:e})},t.hideModalVisibel=function(){t.changeModalVisibel(!1)},t.showDrawer=function(e){t.setState({drawerVisible:!0,currentId:e})},t.hideDrawer=function(){t.setState({drawerVisible:!1})},t.resetPasswordHandle=function(e){t.props.dispatch({type:"dealermanage/resetPassword",payload:t.queryParamsFormater({id:e},2)})},t.extraTableColumnRender=function(){var e=[{title:"\u64cd\u4f5c",width:100,fixed:"right",render:function(e,a){return q.default.createElement("div",null,q.default.createElement("a",{style:{display:"block"},onClick:function(){t.showDrawer(a.id)}},"\u67e5\u770b\u8be6\u60c5"),"\xa0",q.default.createElement(s.default,{title:"\u786e\u5b9a\u91cd\u7f6e\u5bc6\u7801\u5417\uff1f",onConfirm:function(){t.resetPasswordHandle(a.id)}},q.default.createElement("a",null,"\u91cd\u7f6e\u5bc6\u7801")),"\xa0",q.default.createElement("a",{style:{display:"block"},onClick:function(){t.showModalVisibel("update",a)}},"\u7f16\u8f91"))}}];return e},t.modalOkHandle=function(){t.modalForm.validateFieldsAndScroll(function(e,a){if(!e){var r=t.state.showModalType,n=(0,V.formaterObjectValue)(a);"create"===r?t.props.dispatch({type:"dealermanage/add",payload:t.queryParamsFormater(n,3)}):"update"===r&&t.props.dispatch({type:"dealermanage/update",payload:t.queryParamsFormater(n,2)})}})},t.renderSearchForm=function(){var e=t.props,a=e.form,r=e.dispatch,n=t.pageConfig.searchForms,l={form:a,formInfo:{layout:"inline",formItems:n},handleSearchSubmit:function(e){var a=e.createdTime;delete e.region;var n=Object.assign(e,{createdTime:(0,V.dateFormatter)(a)}),l=(0,V.formaterObjectValue)(n);t.setState({queryValues:l}),r({type:"dealermanage/fetch",payload:t.queryParamsFormater(l,1)})},handleFormReset:function(){var e=l.formInfo.formItems;Object.assign(l,{formInfo:{formItems:(0,V.formItemRemoveInitValue)(e)}}),t.setState({queryValues:{}}),r({type:"dealermanage/fetch",payload:t.queryParamsFormater()})}};return q.default.createElement(T.default,l)},t.updateColumn=function(){var e=function(e,a,r){var n={enabled:e,id:r};t.props.dispatch({type:"dealermanage/update",payload:t.queryParamsFormater(n,2)})};return{enabled:{render:function(a,t){return q.default.createElement(S.default,{text:a,okText:"\u542f\u7528",errorText:"\u505c\u7528",onSelect:function(a,r){e(a,r,t.id)}})}}}},t.renderTable=function(){var e=t.props,a=e.dealermanage,r=e.loading,n=t.pageConfig.tableColumns,l=a.data,o=l.list,d=l.pagination,i=(0,V.updateTableColumns)([].concat((0,u.default)(n),(0,u.default)(t.extraTableColumnRender())),t.updateColumn()),s={loading:r,dataSource:o,columns:i,pagination:Object.assign(d,{pageSize:10}),handleTableChange:function(e){var a=e.current,r=t.props.dispatch,n=t.state.formValues,l=(0,c.default)({page:a,pageSize:10},n);r({type:"dealermanage/fetch",payload:t.queryParamsFormater(l,4)})},bordered:!1,otherProps:{scroll:{x:1200}}};return q.default.createElement(F.default,s)},t}return(0,g.default)(a,e),(0,m.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"dealermanage/fetch",payload:this.queryParamsFormater()})}},{key:"render",value:function(){var e=this,a=this.state,t=a.detailFormItems,r=(a.showModalType,a.drawerVisible),n=a.currentId,u=this.props.dealermanage,s=u.modalVisible,c=u.confirmLoading;return q.default.createElement(P.default,null,q.default.createElement(d.default,{bordered:!1},q.default.createElement("div",{className:R.default.tableList},q.default.createElement("div",{className:R.default.tableListForm},this.renderSearchForm(),q.default.createElement("div",{className:R.default.tableListOperator},q.default.createElement(i.default,{icon:"plus",type:"primary",onClick:function(){return e.showModalVisibel("create",{})}},"\u65b0\u5efa")),this.renderTable()))),q.default.createElement(o.default,{width:700,destroyOnClose:!0,visible:s,confirmLoading:c,onCancel:function(){return e.hideModalVisibel()},onOk:function(){e.modalOkHandle()}},q.default.createElement(O.default,{ref:function(a){e.modalForm=a},formItems:t})),q.default.createElement(l.default,{destroyOnClose:!0,title:"\u7ade\u4ef7\u65b9\u8be6\u7ec6\u4fe1\u606f",width:"80%",placement:"right",onClose:this.hideDrawer,maskClosable:!1,visible:r,zIndex:100,style:{height:"calc(100% - 55px)",overflow:"auto"}},q.default.createElement(x.default,{currentId:n})))}}]),a}(q.PureComponent),I=C))||I)||I);a.default=j},GqzL:function(e,a,t){"use strict";var r=t("g09b");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("Znn+");var n=r(t("ZTPi")),l=r(t("q1tI")),o=r(t("QaN9")),d=n.default.TabPane,i=function(e){var a=e.currentId;return l.default.createElement(n.default,{defaultActiveKey:"1",animated:!1},l.default.createElement(d,{tab:"\u552e\u5356\u65b9\u8be6\u7ec6\u4fe1\u606f",key:"1"},l.default.createElement(o.default,{id:a})))},u=i;a.default=u},LPTS:function(e,a,t){"use strict";var r=t("g09b"),n=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("IzEo");var l=r(t("bx4M"));t("14J3");var o=r(t("BMrR"));t("jCWc");var d=r(t("kPKH")),i=r(t("2Taf")),u=r(t("vZ4D")),s=r(t("l4Ni")),c=r(t("ujKo")),f=r(t("MhPg"));t("y8nQ");var m,p,y,b=r(t("Vl3Y")),g=n(t("q1tI")),v=r(t("9N//")),h=(m=b.default.create(),m((y=function(e){function a(){var e,t;(0,i.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,c.default)(a)).call.apply(e,[this].concat(n))),t.renderFormItem=function(){var e=t.props,a=e.formItems,r=e.form,n=a.map(function(e){var a=(0,v.default)(e,r);return g.default.createElement(d.default,{lg:0===e.colSpan?0:e.colSpan||8,md:0===e.colSpan?0:12,sm:0===e.colSpan?0:24,key:e.key},a)});return n},t}return(0,f.default)(a,e),(0,u.default)(a,[{key:"render",value:function(){return g.default.createElement(l.default,{bordered:!1,loading:!1},g.default.createElement(b.default,null,g.default.createElement(o.default,{gutter:24},this.renderFormItem())))}}]),a}(g.PureComponent),p=y))||p),I=h;a.default=I},QaN9:function(e,a,t){"use strict";var r=t("g09b"),n=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("IzEo");var l,o,d=r(t("bx4M")),i=r(t("2Taf")),u=r(t("vZ4D")),s=r(t("l4Ni")),c=r(t("ujKo")),f=r(t("MhPg")),m=n(t("q1tI")),p=t("MuoO"),y=r(t("+kNj")),b=y.default.Description,g=(l=(0,p.connect)(function(e){var a=e.tabpages,t=a.dealerInfo,r=a.loading;return{dealerInfo:t,loading:r}}),l(o=function(e){function a(){return(0,i.default)(this,a),(0,s.default)(this,(0,c.default)(a).apply(this,arguments))}return(0,f.default)(a,e),(0,u.default)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.dispatch,t=e.id,r=void 0===t?-1:t;a({type:"tabpages/queryDealerInfo",payload:{id:r}})}},{key:"render",value:function(){var e=this.props,a=e.dealerInfo,t=void 0===a?{}:a,r=e.loading,n=t.name,l=t.mobile,o=t.address,i=t.store,u=t.provinceName,s=t.cityName,c=t.districtName;return m.default.createElement("div",null,m.default.createElement(d.default,{bordered:!0,title:"\u552e\u5356\u65b9\u8be6\u7ec6\u4fe1\u606f",loading:r},m.default.createElement(y.default,null,m.default.createElement(b,{term:"\u552e\u5356\u65b9\u59d3\u540d"},n),m.default.createElement(b,{term:"\u624b\u673a\u53f7\u7801"},l),m.default.createElement(b,{term:"\u95e8\u5e97\u540d\u79f0"},i),m.default.createElement(b,{term:"\u6240\u5728\u5730\u533a"},"".concat(u," ").concat(s," ").concat(c)),m.default.createElement(b,{term:"\u8be6\u7ec6\u5730\u5740"},o))))}}]),a}(m.PureComponent))||o),v=g;a.default=v},vJOx:function(e,a,t){"use strict";var r=t("g09b");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t("qIgq")),l=r(t("p0pE")),o=(r(t("q1tI")),{labelCol:{span:6},wrapperCol:{span:18}}),d=function(){return{name:"\u552e\u5356\u65b9\u4fe1\u606f\u7ba1\u7406",path:"dealermanage",tableColumns:[{title:"ID",dataIndex:"id"},{title:"\u59d3\u540d",dataIndex:"name"},{title:"\u624b\u673a\u53f7\u7801",dataIndex:"mobile"},{title:"\u95e8\u5e97\u540d\u79f0",dataIndex:"store"},{title:"\u6240\u5728\u5730\u533a",dataIndex:"provinceName",render:function(e,a){return"".concat(a.provinceName," ").concat(a.cityName," ").concat(a.districtName)}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createdAt"},{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"updatedAt"},{title:"\u64cd\u4f5c\u4eba",dataIndex:"updatedBy"},{title:"\u72b6\u6001",dataIndex:"enabled",fixed:"right"}],searchForms:[{formType:"CInput",isRequired:!1,key:"id",label:"\u552e\u5356\u65b9ID",props:{},formitemprops:(0,l.default)({},o)},{formType:"CInput",isRequired:!1,key:"name",label:"\u59d3\u540d",props:{},formitemprops:(0,l.default)({},o)},{formType:"CInputPhone",isRequired:!1,key:"mobile",label:"\u624b\u673a\u53f7",props:{},formitemprops:(0,l.default)({},o)}],detailFormItems:[{formType:"CInput",isRequired:!1,key:"id",label:"id",colSpan:0,props:{disabled:!1}},{formType:"CInput",isRequired:!0,key:"name",label:"\u552e\u5356\u65b9\u59d3\u540d",colSpan:12,props:{disabled:!1}},{formType:"CInputPhone",isRequired:!0,key:"mobile",label:"\u624b\u673a\u53f7",colSpan:12,props:{disabled:!1}},{formType:"CInput",isRequired:!0,key:"store",label:"\u95e8\u5e97\u540d\u79f0",colSpan:12,props:{disabled:!1}},{formType:"CInput",isRequired:!0,key:"province",label:"province",colSpan:0},{formType:"CInput",isRequired:!0,key:"city",label:"city",colSpan:0},{formType:"CInput",isRequired:!0,key:"district",label:"district",colSpan:0},{formType:"CCascaderDynamicOption",isRequired:!0,key:"region",label:"\u6240\u5728\u5730\u533a",colSpan:12,props:{cache:!0,onChange:function(e,a){var t=(0,n.default)(e,3),r=t[0],l=t[1],o=t[2];a.setFieldsValue({province:r,city:l,district:o})}},formitemprops:{hasFeedback:!1},dictionaryKey:"provinceDic",fetchUrl:"/getAllProvince"},{formType:"CTextArea",isRequired:!0,key:"address",label:"\u8be6\u7ec6\u5730\u5740",colSpan:24,props:{autosize:{minRows:4,maxRows:7}}}]}};a.default=d}}]);