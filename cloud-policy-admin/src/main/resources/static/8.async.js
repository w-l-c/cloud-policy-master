(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"03V5":function(e,a,t){"use strict";var r=t("g09b"),l=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("IzEo");var n=r(t("bx4M"));t("14J3");var o=r(t("BMrR"));t("jCWc");var i=r(t("kPKH")),d=r(t("2Taf")),u=r(t("vZ4D")),s=r(t("l4Ni")),m=r(t("ujKo")),f=r(t("MhPg"));t("y8nQ");var p,c,b,y=r(t("Vl3Y")),g=l(t("q1tI")),h=r(t("9N//")),v=(p=y.default.create(),p((b=function(e){function a(){var e,t;(0,d.default)(this,a);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return t=(0,s.default)(this,(e=(0,m.default)(a)).call.apply(e,[this].concat(l))),t.renderFormItem=function(){var e=t.props,a=e.formItems,r=e.form,l=a.map(function(e){var a=(0,h.default)(e,r);return g.default.createElement(i.default,{lg:0===e.colSpan?0:e.colSpan||8,md:0===e.colSpan?0:12,sm:0===e.colSpan?0:24,key:e.key},a)});return l},t}return(0,f.default)(a,e),(0,u.default)(a,[{key:"render",value:function(){return g.default.createElement(n.default,{bordered:!1,loading:!1},g.default.createElement(y.default,null,g.default.createElement(o.default,{gutter:24},this.renderFormItem())))}}]),a}(g.PureComponent),c=b))||c),I=v;a.default=I},AJZr:function(e,a,t){"use strict";var r=t("g09b"),l=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("bbsP");var n=r(t("/wGt"));t("2qtc");var o=r(t("kLXV"));t("IzEo");var i=r(t("bx4M")),d=r(t("gWZ8"));t("14J3");var u=r(t("BMrR"));t("jCWc");var s=r(t("kPKH")),m=r(t("p0pE")),f=r(t("2Taf")),p=r(t("vZ4D")),c=r(t("l4Ni")),b=r(t("ujKo")),y=r(t("rlhR")),g=r(t("MhPg"));t("y8nQ");var h,v,I,k,T=r(t("Vl3Y")),C=l(t("q1tI")),w=t("MuoO"),F=(r(t("mOP9")),r(t("BkRI"))),V=r(t("zHco")),q=r(t("JpOw")),O=r(t("n+/z")),E=r(t("X1JR")),S=t("+n12"),P=r(t("03V5")),H=r(t("lrtr")),M=r(t("kDJH")),R=(h=(0,w.connect)(function(e){var a=e.user,t=e.carlistmanage,r=e.loading;return{currentUser:a.currentUser,carlistmanage:t,loading:r.models.carlistmanage}}),v=T.default.create(),h(I=v((k=function(e){function a(){var e,t;(0,f.default)(this,a);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return t=(0,c.default)(this,(e=(0,b.default)(a)).call.apply(e,[this].concat(l))),t.pageConfig=(0,H.default)((0,y.default)(t)),t.state={drawerVisible:!1,currentCar300Url:"",showModalType:"",formValues:{},queryValues:{},formType:"",detailFormItems:[]},t.queryParamsFormater=function(e,a){var r=t.props.carlistmanage.data.pagination;delete r.total;var l={form:{},query:{},pagination:{current:1,pageSize:10}};switch(a){case 1:Object.assign(l,{query:(0,m.default)({},e)});break;case 2:Object.assign(l,{query:(0,m.default)({},t.state.queryValues),form:(0,m.default)({},e),pagination:r});break;case 3:Object.assign(l,{form:(0,m.default)({},e)});break;case 4:Object.assign(l,{query:(0,m.default)({},t.state.queryValues),pagination:{current:e.page,pageSize:e.pageSize}});break;default:Object.assign(l,{})}return l},t.updateFormItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,r=t.pageConfig.detailFormItems,l=r.filter(function(e){return e.type===a});l.unshift(r.find(function(e){return"id"===e.key}));var n=(0,F.default)(l),o=(0,S.formItemAddInitValue)(n,e);t.setState({detailFormItems:o})},t.changeModalVisibel=function(e){t.props.dispatch({type:"carlistmanage/modalVisible",payload:{modalVisible:e}})},t.showModalVisibel=function(e,a){t.updateFormItems(a,e),t.changeModalVisibel(!0),t.setState({showModalType:e})},t.hideModalVisibel=function(){t.changeModalVisibel(!1)},t.showDrawer=function(e){t.setState({drawerVisible:!0,currentCar300Url:e})},t.hideDrawer=function(){t.setState({drawerVisible:!1})},t.resetPasswordHandle=function(e){t.props.dispatch({type:"carlistmanage/resetPassword",payload:t.queryParamsFormater({id:e},2)})},t.extraTableColumnRender=function(){var e=[{title:"\u64cd\u4f5c",width:170,fixed:"right",render:function(e,a){var r=a.isExpired,l=a.status;return C.default.createElement(u.default,{type:"flex",justify:"space-between"},C.default.createElement(s.default,{span:12},C.default.createElement("a",{onClick:function(){t.showDrawer(a.reportUrl)}},"\u67e5\u770b\u8be6\u60c5")),0===r&&3===l?C.default.createElement(s.default,{span:12},C.default.createElement("a",{onClick:function(){t.showModalVisibel("reAuction",a)}},"\u53d1\u8d77\u91cd\u62cd")):null,0===r&&1===l?C.default.createElement(s.default,{span:12},C.default.createElement("a",{onClick:function(){t.showModalVisibel("bidding",a)}},"\u53d1\u8d77\u7ade\u62cd")):null)}}];return e},t.modalOkHandle=function(){var e=t.modalForm.props.form;e.validateFieldsAndScroll(function(e,a){if(!e){var r=t.state.showModalType;if("reAuction"===r){var l=(0,S.formaterObjectValue)(a);t.props.dispatch({type:"carlistmanage/reAuction",payload:t.queryParamsFormater(l,2)})}else if("bidding"===r){var n=a.startTime,o=a.endTime,i=Object.assign({},a,{startTime:n.format("HH:mm"),endTime:o.format("HH:mm")}),d=(0,S.formaterObjectValue)(i);t.props.dispatch({type:"carlistmanage/bidding",payload:t.queryParamsFormater(d,2)})}}})},t.renderSearchForm=function(){var e=t.props,a=e.form,r=e.dispatch,l=t.pageConfig.searchForms,n={form:a,formInfo:{layout:"inline",formItems:l},handleSearchSubmit:function(e){var a=e.createdTime;delete e.region;var l=Object.assign(e,{createdTime:(0,S.dateFormatter)(a)}),n=(0,S.formaterObjectValue)(l);t.setState({queryValues:n}),r({type:"carlistmanage/fetch",payload:t.queryParamsFormater(n,1)})},handleFormReset:function(){var e=n.formInfo.formItems;Object.assign(n,{formInfo:{formItems:(0,S.formItemRemoveInitValue)(e)}}),t.setState({queryValues:{}}),r({type:"carlistmanage/fetch",payload:t.queryParamsFormater()})}};return C.default.createElement(q.default,n)},t.renderTable=function(){var e=t.props,a=e.carlistmanage,r=e.loading,l=t.pageConfig.tableColumns,n=a.data,o=n.list,i=n.pagination,u=[].concat((0,d.default)(l),(0,d.default)(t.extraTableColumnRender())),s={loading:r,dataSource:o,columns:u,pagination:Object.assign(i,{pageSize:10}),handleTableChange:function(e){var a=e.current,r=t.props.dispatch,l=t.state.formValues,n=(0,m.default)({page:a,pageSize:10},l);r({type:"carlistmanage/fetch",payload:t.queryParamsFormater(n,4)})},bordered:!1,otherProps:{scroll:{x:1500}}};return C.default.createElement(O.default,s)},t}return(0,g.default)(a,e),(0,p.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"carlistmanage/fetch",payload:this.queryParamsFormater()})}},{key:"render",value:function(){var e=this,a=this.state,t=a.detailFormItems,r=a.showModalType,l=a.drawerVisible,d=a.currentCar300Url;console.log(r);var u=this.props.carlistmanage,s=u.modalVisible,m=u.confirmLoading;return C.default.createElement(V.default,null,C.default.createElement(i.default,{bordered:!1},C.default.createElement("div",{className:M.default.tableList},C.default.createElement("div",{className:M.default.tableListForm},this.renderSearchForm(),this.renderTable()))),C.default.createElement(o.default,{title:"reAuction"===r?"\u53d1\u8d77\u91cd\u62cd":"\u53d1\u8d77\u7ade\u62cd",width:700,destroyOnClose:!0,visible:s,confirmLoading:m,onCancel:function(){return e.hideModalVisibel()},onOk:function(){e.modalOkHandle()}},C.default.createElement(P.default,{wrappedComponentRef:function(a){return e.modalForm=a},formItems:t})),C.default.createElement(n.default,{destroyOnClose:!0,title:"\u7ade\u4ef7\u65b9\u8be6\u7ec6\u4fe1\u606f",width:"80%",placement:"right",onClose:this.hideDrawer,maskClosable:!1,visible:l,zIndex:100,style:{height:"calc(100% - 55px)",overflow:"auto"}},C.default.createElement(E.default,{url:d})))}}]),a}(C.PureComponent),I=k))||I)||I);a.default=R},X1JR:function(e,a,t){"use strict";var r=t("g09b");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("Znn+");var l=r(t("ZTPi")),n=r(t("q1tI")),o=r(t("BDxJ")),i=l.default.TabPane,d=function(e){var a=e.url;return n.default.createElement(l.default,{defaultActiveKey:"1",animated:!1},n.default.createElement(i,{tab:"\u8f66300\u8bc4\u4f30\u4fe1\u606f",key:"1"},n.default.createElement(o.default,{url:a})))},u=d;a.default=u},kDJH:function(e,a,t){e.exports={tableList:"antd-pro-pages-car-manage-car-list-manage-route-index-tableList",tableListOperator:"antd-pro-pages-car-manage-car-list-manage-route-index-tableListOperator",tableListForm:"antd-pro-pages-car-manage-car-list-manage-route-index-tableListForm",submitButtons:"antd-pro-pages-car-manage-car-list-manage-route-index-submitButtons"}},lrtr:function(e,a,t){"use strict";var r=t("g09b");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=r(t("qIgq")),n=r(t("p0pE")),o=(r(t("q1tI")),{labelCol:{span:6},wrapperCol:{span:18}}),i=function(e){return{name:"\u8f66\u8f86\u7ba1\u7406\u5217\u8868",path:"carlistmanage",tableColumns:[{title:"\u8f66\u8f86\u6b3e\u578b",dataIndex:"modelName"},{title:"\u8f66\u724c\u53f7",dataIndex:"carNumber"},{title:"\u552e\u5356\u95e8\u5e97",dataIndex:"store"},{title:"\u552e\u5356\u65b9\u59d3\u540d",dataIndex:"name"},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"mobile"},{title:"\u8be6\u7ec6\u5730\u5740",dataIndex:"absoluteAddress"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createdAt"}],searchForms:[{formType:"CInput",isRequired:!1,key:"id",label:"\u7ade\u4ef7\u65b9ID",props:{},formitemprops:(0,n.default)({},o)},{formType:"CInput",isRequired:!1,key:"name",label:"\u59d3\u540d",props:{},formitemprops:(0,n.default)({},o)},{formType:"CInputPhone",isRequired:!1,key:"mobile",label:"\u624b\u673a\u53f7",props:{},formitemprops:(0,n.default)({},o)}],detailFormItems:[{formType:"CInput",isRequired:!1,key:"id",label:"id",colSpan:0,props:{disabled:!1}},{formType:"CInput",isRequired:!1,key:"mobile",label:"mobile",colSpan:0,props:{disabled:!1},type:"reAuction"},{formType:"CInput",isRequired:!0,key:"modelName",label:"\u8f66\u8f86\u6b3e\u578b",colSpan:12,props:{readOnly:!0},type:"reAuction"},{formType:"CInput",isRequired:!0,key:"carNumber",label:"\u8f66\u724c\u53f7",colSpan:12,props:{readOnly:!0},type:"reAuction"},{formType:"CInput",isRequired:!0,key:"store",label:"\u552e\u5356\u95e8\u5e97",colSpan:12,props:{readOnly:!0},type:"reAuction"},{formType:"CInput",isRequired:!0,key:"name",label:"\u552e\u5356\u65b9\u59d3\u540d",colSpan:12,props:{readOnly:!0},type:"reAuction"},{formType:"CTimePicker",isRequired:!0,key:"startTime",label:"\u7ade\u4ef7\u5f00\u59cb\u65f6\u95f4",colSpan:12,props:{format:"HH:mm",inputReadOnly:!0,placeholder:"\u5f00\u59cb\u65f6\u95f4",disabledHours:function(){var a=e.modalForm.props.form.getFieldValue,t=a("endTime");if(t){for(var r=t.format("HH:mm").split(":"),n=(0,l.default)(r,1),o=n[0],i=[],d=parseInt(o)+1;d<=24;d++)i.push(d-0);return i}return[]},disabledMinutes:function(a){var t=e.modalForm.props.form.getFieldValue,r=t("endTime");if(r){var n=r.format("HH:mm").split(":"),o=(0,l.default)(n,2),i=o[0],d=o[1],u=[];if(i-0===a){for(var s=parseInt(d)+1;s<=60;s++)u.push(s-0);return u}}return[]}},type:"bidding"},{formType:"CTimePicker",isRequired:!0,key:"endTime",label:"\u7ade\u4ef7\u7ed3\u675f\u65f6\u95f4",colSpan:12,props:{format:"HH:mm",inputReadOnly:!0,placeholder:"\u7ed3\u675f\u65f6\u95f4",disabledHours:function(){var a=e.modalForm.props.form.getFieldValue,t=a("startTime");if(t){for(var r=t.format("HH:mm").split(":"),n=(0,l.default)(r,1),o=n[0],i=[],d=0;d<parseInt(o);d++)i.push(d-0);return i}return[]},disabledMinutes:function(a){var t=e.modalForm.props.form.getFieldValue,r=t("startTime");if(r){var n=r.format("HH:mm").split(":"),o=(0,l.default)(n,2),i=o[0],d=o[1],u=[];if(i-0===a)for(var s=0;s<parseInt(d);s++)u.push(s-0);return u}return[]}},type:"bidding"}]}};a.default=i}}]);